# Maintainer: Vincent Trumpff <vincent.tr@gmail.com>

pkgname=mylife-home-core
pkgver=1.0.0
pkgrel=0
pkgdesc="MyLife Home Core"
arch="noarch"
url="http://apps.mti-team2.dyndns.org/"
license="GPL3"
depends="nodejs"
source="bin.js bin.js.map lib.js lib.js.map config.json store.json mylife-home-core.initd"

check() {
  # TODO: add small check
  /bin/true
}

package() {
  install -dm755 "$pkgdir/usr/mylife-home"
  install -dm755 "$pkgdir/usr/mylife-home/plugins"

  install -m755 -D "$srcdir"/mylife-home-core.initd "$pkgdir"/etc/init.d/mylife-home-core

  cp -p "$srcdir/bin.js" "$pkgdir/usr/mylife-home/bin.js"
  cp -p "$srcdir/bin.js.map" "$pkgdir/usr/mylife-home/bin.js.map"
  cp -p "$srcdir/lib.js" "$pkgdir/usr/mylife-home/lib.js"
  cp -p "$srcdir/lib.js.map" "$pkgdir/usr/mylife-home/lib.js.map"

  cp -p "$srcdir/config.json" "$pkgdir/usr/mylife-home/config.json"
  cp -p "$srcdir/store.json" "$pkgdir/usr/mylife-home/store.json"
}
